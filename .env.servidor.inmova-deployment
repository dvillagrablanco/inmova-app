# ═══════════════════════════════════════════════════════════════
# CONFIGURACIÓN DE ENTORNO - SERVIDOR INMOVA-DEPLOYMENT
# ═══════════════════════════════════════════════════════════════
# 
# Servidor: inmova-deployment
# Fingerprint: 55:0e:12:f9:8f:a3:b0:4b:04:7e:fe:de:00:3f:53:78
# Fecha de configuración: 26/12/2025
#
# IMPORTANTE: 
# - Reemplaza todos los valores marcados con [CAMBIAR]
# - Genera claves seguras para variables de seguridad
# - No compartas este archivo públicamente
# ═══════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════
# CONFIGURACIÓN DE ENTORNO
# ═══════════════════════════════════════════════════════════════

NODE_ENV=production
PORT=3000

# ═══════════════════════════════════════════════════════════════
# BASE DE DATOS - PostgreSQL
# ═══════════════════════════════════════════════════════════════

# Formato: postgresql://usuario:contraseña@host:puerto/basedatos
DATABASE_URL=postgresql://inmova_user:inmova_secure_2025@localhost:5432/inmova_production
POSTGRES_PASSWORD=inmova_secure_2025

# Pool de conexiones
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ═══════════════════════════════════════════════════════════════
# NEXTAUTH - Autenticación
# ═══════════════════════════════════════════════════════════════

# Genera con: openssl rand -base64 32
NEXTAUTH_SECRET=[CAMBIAR_CON_openssl_rand_base64_32]

# URL de tu dominio (actualizar cuando tengas dominio)
NEXTAUTH_URL=http://[IP_DEL_SERVIDOR]

# ═══════════════════════════════════════════════════════════════
# AWS S3 - Almacenamiento de Archivos
# ═══════════════════════════════════════════════════════════════

AWS_PROFILE=hosted_storage
AWS_REGION=us-west-2
AWS_BUCKET_NAME=[CAMBIAR_nombre_del_bucket]
AWS_ACCESS_KEY_ID=[CAMBIAR_tu_access_key]
AWS_SECRET_ACCESS_KEY=[CAMBIAR_tu_secret_key]
AWS_FOLDER_PREFIX=production/

# ═══════════════════════════════════════════════════════════════
# STRIPE - Pagos (Producción)
# ═══════════════════════════════════════════════════════════════

# Claves de PRODUCCIÓN de Stripe
STRIPE_SECRET_KEY=[CAMBIAR_sk_live_...]
STRIPE_PUBLISHABLE_KEY=[CAMBIAR_pk_live_...]
STRIPE_WEBHOOK_SECRET=[CAMBIAR_whsec_...]
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=[CAMBIAR_pk_live_...]

# ═══════════════════════════════════════════════════════════════
# PUSH NOTIFICATIONS - VAPID Keys
# ═══════════════════════════════════════════════════════════════

# Genera con: npx web-push generate-vapid-keys
NEXT_PUBLIC_VAPID_PUBLIC_KEY=[CAMBIAR_clave_publica_vapid]
VAPID_PRIVATE_KEY=[CAMBIAR_clave_privada_vapid]

# ═══════════════════════════════════════════════════════════════
# REDIS - Cache (Opcional pero recomendado)
# ═══════════════════════════════════════════════════════════════

REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ═══════════════════════════════════════════════════════════════
# SEGURIDAD
# ═══════════════════════════════════════════════════════════════

# Clave para tareas CRON (genera una clave aleatoria)
CRON_SECRET=[CAMBIAR_clave_aleatoria_segura]

# Clave de encriptación (genera con: openssl rand -base64 32)
ENCRYPTION_KEY=[CAMBIAR_CON_openssl_rand_base64_32]

# Clave de encriptación MFA (genera con: openssl rand -base64 32)
MFA_ENCRYPTION_KEY=[CAMBIAR_CON_openssl_rand_base64_32]

# ═══════════════════════════════════════════════════════════════
# EMAIL - SendGrid
# ═══════════════════════════════════════════════════════════════

SENDGRID_API_KEY=[CAMBIAR_tu_api_key_sendgrid]
SENDGRID_FROM_EMAIL=noreply@tudominio.com

# ═══════════════════════════════════════════════════════════════
# SENTRY - Monitoreo de Errores (Opcional)
# ═══════════════════════════════════════════════════════════════

NEXT_PUBLIC_SENTRY_DSN=[CAMBIAR_tu_sentry_dsn]
SENTRY_DSN=[CAMBIAR_tu_sentry_dsn]
SENTRY_ORG=[CAMBIAR_tu_organizacion]
SENTRY_PROJECT=[CAMBIAR_tu_proyecto]
SENTRY_AUTH_TOKEN=[CAMBIAR_tu_auth_token]

# ═══════════════════════════════════════════════════════════════
# URLs PÚBLICAS
# ═══════════════════════════════════════════════════════════════

# URL base de la aplicación (actualizar con tu dominio)
NEXT_PUBLIC_BASE_URL=http://[IP_DEL_SERVIDOR]

# URL de video (opcional)
NEXT_PUBLIC_VIDEO_URL=

# ═══════════════════════════════════════════════════════════════
# INTEGRACIONES OPCIONALES
# ═══════════════════════════════════════════════════════════════

# Abacus AI (opcional)
ABACUSAI_API_KEY=

# DocuSign (opcional)
DOCUSIGN_ACCOUNT_ID=
DOCUSIGN_PRIVATE_KEY=
DOCUSIGN_BASE_PATH=https://demo.docusign.net/restapi

# Redsys/Bankinter (opcional)
REDSYS_API_URL=https://apis-i.redsys.es:20443/psd2/xs2a/api-entrada-xs2a/services
REDSYS_OAUTH_URL=https://apis-i.redsys.es:20443/psd2/xs2a/api-oauth-xs2a
REDSYS_BANKINTER_CODE=bankinter
REDSYS_CLIENT_ID=
REDSYS_CLIENT_SECRET=
REDSYS_CERTIFICATE_PATH=
REDSYS_CERTIFICATE_KEY_PATH=
REDSYS_SEAL_CERTIFICATE_PATH=
REDSYS_SEAL_KEY_PATH=

# ═══════════════════════════════════════════════════════════════
# SEGURIDAD AVANZADA
# ═══════════════════════════════════════════════════════════════

# IPs permitidas para acceder a /admin (separadas por comas)
# Ejemplo: 203.0.113.45,198.51.100.10
# Dejar vacío para permitir todas durante la configuración inicial
ADMIN_IP_WHITELIST=

# ═══════════════════════════════════════════════════════════════
# CONFIGURACIÓN DE RATE LIMITING
# ═══════════════════════════════════════════════════════════════

# Límites de peticiones por IP
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000

# ═══════════════════════════════════════════════════════════════
# LOGS Y DEBUGGING
# ═══════════════════════════════════════════════════════════════

# Nivel de logs (error, warn, info, debug)
LOG_LEVEL=info

# Habilitar logs detallados (solo para debugging)
DEBUG=false

# ═══════════════════════════════════════════════════════════════
# NOTAS IMPORTANTES
# ═══════════════════════════════════════════════════════════════
#
# 1. DESPUÉS DE OBTENER UN DOMINIO:
#    - Actualizar NEXTAUTH_URL con el dominio real
#    - Actualizar NEXT_PUBLIC_BASE_URL con el dominio real
#    - Configurar certificado SSL con: certbot --nginx
#
# 2. COMANDOS ÚTILES PARA GENERAR CLAVES:
#    - openssl rand -base64 32
#    - npx web-push generate-vapid-keys
#    - node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 3. VERIFICACIÓN:
#    - Todas las variables marcadas con [CAMBIAR] deben ser actualizadas
#    - Las claves deben ser únicas y seguras
#    - No usar las mismas claves que en desarrollo/staging
#
# 4. BACKUP:
#    - Guarda una copia segura de este archivo
#    - No lo incluyas en el repositorio Git
#    - Usa un gestor de secretos para producción
#
# ═══════════════════════════════════════════════════════════════
