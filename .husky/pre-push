#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running pre-push checks..."

# Run CI test suite (no watch)
echo "ğŸ§ª Running all tests..."
npm run test:ci || {
  echo "âŒ Tests failed. Push aborted."
  exit 1
}

# Check coverage
echo "ğŸ“Š Checking test coverage..."
npm run test:coverage 2>/dev/null || echo "âš ï¸ Coverage check skipped"

echo "âœ… Pre-push checks passed!"
