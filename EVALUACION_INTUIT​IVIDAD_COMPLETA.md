# üìä EVALUACI√ìN DE INTUITIVIDAD Y AUTOGESTI√ìN - INMOVA
## An√°lisis desde la perspectiva de cada tipo de cliente

**Fecha de An√°lisis**: 3 de Diciembre, 2025  
**Evaluador**: DeepAgent - Especialista en UX/UI  
**Objetivo**: Evaluar si la plataforma es intuitiva y de f√°cil autogesti√≥n para todos los perfiles de usuario

---

## üéØ RESUMEN EJECUTIVO

### Puntuaci√≥n General

| Aspecto | Puntuaci√≥n Actual | Puntuaci√≥n Objetivo | Gap |
|---------|-------------------|---------------------|-----|
| **Intuitividad Inicial** | 6.5/10 | 10/10 | -3.5 |
| **Autogesti√≥n** | 7.0/10 | 10/10 | -3.0 |
| **Claridad Visual** | 8.0/10 | 10/10 | -2.0 |
| **Ayuda Contextual** | 5.5/10 | 10/10 | -4.5 |
| **Onboarding** | 6.0/10 | 10/10 | -4.0 |
| **Navegaci√≥n** | 7.5/10 | 10/10 | -2.5 |
| **Feedback del Sistema** | 7.0/10 | 10/10 | -3.0 |
| **Accesibilidad** | 4.0/10 | 10/10 | -6.0 |

**üéØ Puntuaci√≥n Promedio Actual: 6.4/10**  
**üèÜ Puntuaci√≥n Objetivo: 10/10**  
**üìà Margen de Mejora: +3.6 puntos**

---

## ‚úÖ FORTALEZAS IDENTIFICADAS

### 1. **Arquitectura Multi-Vertical S√≥lida**
- ‚úÖ Soporta 7 modelos de negocio desde una sola plataforma
- ‚úÖ 88 m√≥dulos profesionales bien organizados
- ‚úÖ Datos separados por compa√±√≠a de forma robusta
- ‚úÖ Sistema de permisos granular implementado

### 2. **Dise√±o Visual Moderno**
- ‚úÖ UI consistente basada en Shadcn/UI
- ‚úÖ Gradientes y animaciones sutiles
- ‚úÖ Responsive design bien implementado
- ‚úÖ Componentes reutilizables de alta calidad

### 3. **Funcionalidades Core Completas**
- ‚úÖ Gesti√≥n de edificios, unidades, inquilinos
- ‚úÖ Contratos con firma digital
- ‚úÖ Sistema de pagos integrado
- ‚úÖ Mantenimiento preventivo
- ‚úÖ Reportes y analytics avanzados

### 4. **Onboarding Tour Existente**
- ‚úÖ Tour guiado de 5 pasos
- ‚úÖ Navegaci√≥n adelante/atr√°s
- ‚úÖ Opci√≥n de saltar
- ‚úÖ Se muestra solo una vez

### 5. **Ayuda Contextual Disponible**
- ‚úÖ Sistema de ayuda en m√≥dulos clave
- ‚úÖ Tooltips en algunos campos
- ‚úÖ Documentaci√≥n exhaustiva en archivos MD

---

## üî¥ √ÅREAS CR√çTICAS DE MEJORA

### 1. **Onboarding No Adaptativo** (Prioridad: CR√çTICA)
**Problema:**
- El tour de bienvenida es gen√©rico para todos los usuarios
- No pregunta "¬øQu√© tipo de negocio gestionas?" en el registro
- No se adapta al modelo de negocio (residencial, STR, flipping, etc.)
- No ofrece importaci√≥n de datos existentes

**Impacto:**
- Usuarios de STR ven opciones de construcci√≥n innecesarias
- Gestores de co-living no descubren el m√≥dulo de alquiler por habitaciones
- Curva de aprendizaje m√°s lenta
- Mayor tasa de abandono en las primeras 48h

**Puntuaci√≥n Impactada: Onboarding (6.0 ‚Üí 9.5) | Intuitividad (6.5 ‚Üí 8.5)**

---

### 2. **Sobrecarga de Opciones** (Prioridad: ALTA)
**Problema:**
- 88 m√≥dulos visibles en el sidebar
- Sin filtrado inteligente por vertical
- Dif√≠cil encontrar funcionalidades clave r√°pidamente
- Men√∫ lateral muy largo

**Impacto:**
- Sensaci√≥n de "abrumado" para nuevos usuarios
- Dificultad para encontrar m√≥dulos espec√≠ficos
- Baja tasa de descubrimiento de features avanzadas

**Puntuaci√≥n Impactada: Navegaci√≥n (7.5 ‚Üí 9.0) | Intuitividad (6.5 ‚Üí 8.0)**

---

### 3. **Configuraci√≥n Inicial No Guiada** (Prioridad: ALTA)
**Problema:**
- No hay wizard de setup para cada modelo de negocio
- Usuario debe descubrir por s√≠ mismo qu√© hacer primero
- No hay checklist visible de "Pasos para completar tu configuraci√≥n"
- Dashboard vac√≠o muestra "0" en todas partes (desmotivador)

**Impacto:**
- Time-to-first-value muy largo
- Usuarios no saben por d√≥nde empezar
- Alta fricci√≥n en los primeros d√≠as

**Puntuaci√≥n Impactada: Autogesti√≥n (7.0 ‚Üí 9.0) | Intuitividad (6.5 ‚Üí 8.5)**

---

### 4. **Sin Modo Demo** (Prioridad: ALTA)
**Problema:**
- No hay datos de ejemplo pre-cargados
- Usuarios no pueden "explorar sin compromiso"
- Dif√≠cil entender el valor sin cargar datos reales primero

**Impacto:**
- Usuarios abandonan antes de ver el potencial completo
- Dificulta la toma de decisi√≥n de compra
- Reduce efectividad de demos de ventas

**Puntuaci√≥n Impactada: Intuitividad (6.5 ‚Üí 8.0) | Onboarding (6.0 ‚Üí 8.0)**

---

### 5. **Ayuda Contextual Limitada** (Prioridad: MEDIA-ALTA)
**Problema:**
- No hay videos tutoriales embebidos
- Tooltips insuficientes en formularios complejos
- Sin chatbot de ayuda proactivo
- Documentaci√≥n no enlazada desde la UI

**Impacto:**
- Usuarios contactan soporte para preguntas b√°sicas
- Curva de aprendizaje innecesariamente larga
- Frustraci√≥n en funciones avanzadas

**Puntuaci√≥n Impactada: Ayuda Contextual (5.5 ‚Üí 9.0) | Autogesti√≥n (7.0 ‚Üí 8.5)**

---

### 6. **Creaci√≥n Masiva Inexistente** (Prioridad: MEDIA)
**Problema:**
- No hay creaci√≥n masiva de unidades
- No se puede duplicar con configuraci√≥n similar
- Importaci√≥n desde Excel no visible/intuitiva
- Proceso repetitivo para edificios con muchas unidades

**Impacto:**
- Frustraci√≥n al registrar edificios grandes
- Tiempo excesivo en configuraci√≥n inicial
- Abandonos durante el setup

**Puntuaci√≥n Impactada: Autogesti√≥n (7.0 ‚Üí 8.5) | Intuitividad (6.5 ‚Üí 7.5)**

---

### 7. **Sin Templates Pre-configurados** (Prioridad: MEDIA)
**Problema:**
- No hay plantillas de contrato por regi√≥n
- No hay proyectos de ejemplo por vertical
- Cada usuario empieza desde cero

**Impacto:**
- Tiempo excesivo en configuraci√≥n inicial
- Inconsistencias entre usuarios
- Baja adopci√≥n de mejores pr√°cticas

**Puntuaci√≥n Impactada: Autogesti√≥n (7.0 ‚Üí 8.5)**

---

### 8. **Accesibilidad Deficiente** (Prioridad: MEDIA)
**Problema:**
- Navegaci√≥n por teclado incompleta
- Etiquetas ARIA faltantes
- Contraste insuficiente en algunos elementos
- Sin soporte para lectores de pantalla en varios componentes

**Impacto:**
- Usuarios con discapacidades no pueden usar la plataforma
- Incumplimiento de normativas WCAG
- Exclusi√≥n de un segmento importante del mercado

**Puntuaci√≥n Impactada: Accesibilidad (4.0 ‚Üí 9.0)**

---

## üìã AN√ÅLISIS POR PERFIL DE USUARIO

### üë§ PERFIL 1: Gestor de Alquiler Residencial Tradicional
**Descripci√≥n**: Gestiona 5-50 edificios con alquileres de larga duraci√≥n

#### Flujo de Puesta en Marcha (Estado Actual)

**Paso 1: Registro** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)
- ‚úÖ Proceso r√°pido y claro
- ‚úÖ Auto-login post-registro
- ‚ùå No pregunta qu√© tipo de negocio gestiona
- ‚ùå No ofrece importar datos existentes

**Paso 2: Onboarding** ‚≠ê‚≠ê‚≠ê (3/5)
- ‚úÖ Tour de 5 pasos bien dise√±ado
- ‚ùå No adapta el tour a "residencial tradicional"
- ‚ùå No sugiere m√≥dulos esenciales para este perfil
- ‚ùå No ofrece importar datos de ejemplo

**Paso 3: Primer Edificio** ‚≠ê‚≠ê‚≠ê (3/5)
- ‚úÖ Formulario claro
- ‚ùå Sin ayuda inline explicando cada campo
- ‚ùå No sugiere "importar desde Excel" si tiene muchos
- ‚ùå Sin preview de c√≥mo se ver√°

**Paso 4: A√±adir Unidades** ‚≠ê‚≠ê (2/5)
- ‚úÖ Listado claro
- ‚ùå **CR√çTICO**: No hay creaci√≥n masiva (ej: 20 unidades a la vez)
- ‚ùå Proceso repetitivo
- ‚ùå No permite duplicar unidad con config similar

**Paso 5: Gestionar Inquilinos** ‚≠ê‚≠ê‚≠ê (3/5)
- ‚úÖ Formularios completos
- ‚ùå No sugiere plantillas de contrato por regi√≥n
- ‚ùå Falta wizard para: inquilino ‚Üí contrato ‚Üí unidad en 1 flujo

**Paso 6: Configurar Pagos** ‚≠ê‚≠ê‚≠ê (3/5)
- ‚úÖ Sistema robusto
- ‚ùå No hay wizard para domiciliaci√≥n bancaria
- ‚ùå No explica c√≥mo configurar recordatorios autom√°ticos

#### Tiempo Estimado para Estar Operativo
- **Actual**: 2-3 horas (con 10 edificios)
- **Objetivo**: 30 minutos

#### Recomendaciones Espec√≠ficas

**PRIORIDAD CR√çTICA:**
1. **Wizard "Configura tu Negocio Residencial en 5 min"**
   - Pregunta: ¬øCu√°ntos edificios? ¬øUnidades aprox?
   - Ofrece descarga de template Excel
   - Importaci√≥n masiva validada
   - Pre-activa m√≥dulos esenciales

2. **Creaci√≥n Masiva de Unidades**
   - Opci√≥n: "Crear m√∫ltiples unidades"
   - Template: "Piso 1: A, B, C, D" con patr√≥n auto-replicable
   - Importaci√≥n CSV/Excel

3. **Biblioteca de Contratos**
   - Contratos pre-aprobados por regi√≥n (Espa√±a, LATAM)
   - Personalizaci√≥n con marca del usuario
   - Generaci√≥n autom√°tica con datos de inquilino/unidad

**PRIORIDAD ALTA:**
4. **Dashboard de Progreso**
   - Checklist: "Completa tu configuraci√≥n: 3/10"
   - Barra de progreso visual
   - Siguiente acci√≥n sugerida

5. **Modo Demo**
   - Bot√≥n: "Ver con datos de ejemplo"
   - Edificio demo con 5 unidades, 3 inquilinos
   - Banner: "Esto es demo, tus datos estar√°n aqu√≠"

---

### üë§ PERFIL 2: Operador de Co-living
**Descripci√≥n**: Gestiona alquiler por habitaciones con espacios comunes compartidos

#### Problemas Cr√≠ticos Identificados

**1. Descubribilidad del M√≥dulo** ‚≠ê‚≠ê (2/10)
- ‚ùå M√≥dulo "Room Rental" no es obvio
- ‚ùå No aparece en onboarding si usuario gestiona co-living
- ‚ùå Sin gu√≠a de "C√≥mo empezar con habitaciones"

**2. Configuraci√≥n de Co-living** ‚≠ê‚≠ê (2/10)
- ‚ùå No hay wizard: "Convertir apartamento en co-living"
- ‚ùå No se explica prorrateo de suministros
- ‚ùå Falta config de espacios comunes

**3. FUNCIONALIDAD FALTANTE: Prorrateo de Gastos** ‚≠ê (1/10)
- ‚ùå **CR√çTICO**: No existe sistema para dividir luz, agua, internet
- ‚ùå Sin facturaci√≥n autom√°tica de servicios compartidos
- ‚ùå Sin notificaciones mensuales a inquilinos

**4. Contratos por Habitaci√≥n** ‚≠ê‚≠ê (2/10)
- ‚ùå No hay plantilla espec√≠fica de "contrato de habitaci√≥n"
- ‚ùå No contempla duraciones cortas (1-3 meses)
- ‚ùå Sin gesti√≥n de fianzas compartidas

#### Tiempo Estimado para Estar Operativo
- **Actual**: IMPOSIBLE (funcionalidad clave faltante)
- **Objetivo**: 45 minutos

#### Recomendaciones Espec√≠ficas

**PRIORIDAD CR√çTICA:**
1. **Wizard "Configura tu Co-living"**
   - Detectar que usuario gestiona co-living
   - Flujo: Edificio ‚Üí Unidad ‚Üí Habitaciones ‚Üí Servicios
   - Auto-configurar prorrateo

2. **Sistema de Prorrateo de Gastos Comunes**
   ```typescript
   // Nueva entidad en Prisma
   model GastoComun {
     id          String   @id @default(cuid())
     unidadId    String
     tipo        String   // luz, agua, gas, internet, limpieza
     monto       Float
     mes         DateTime
     prorrateo   Json     // { habitacion1: 120, habitacion2: 120, ... }
   }
   ```
   - Divisi√≥n autom√°tica por # habitaciones o por ocupaci√≥n
   - Notificaciones mensuales
   - Exportar a PDF/Excel

3. **Plantillas de Contrato Co-living**
   - Duraci√≥n flexible (1-12 meses)
   - Cl√°usulas de convivencia
   - Normas de espacios comunes
   - Dep√≥sito compartido

**PRIORIDAD ALTA:**
4. **Dashboard Co-living Espec√≠fico**
   - KPI: Ocupaci√≥n por habitaci√≥n
   - Rotaci√≥n mensual
   - Precio promedio/habitaci√≥n
   - Calendario check-in/check-out

5. **Gesti√≥n de Espacios Comunes**
   - Registrar: cocina, sala, lavander√≠a, terraza
   - Normas de uso
   - Horarios si aplica
   - Reservas (opcional)

---

### üë§ PERFIL 3: Host de Alquileres Tur√≠sticos (STR)
**Descripci√≥n**: Gestiona propiedades vacacionales, integraci√≥n con Airbnb/Booking

#### Evaluaci√≥n del M√≥dulo STR

**Dashboard STR** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)
- ‚úÖ Dedicado y visual
- ‚úÖ KPIs espec√≠ficos: ocupaci√≥n, reservas, ingresos
- ‚úÖ Tabs organizados
- ‚úÖ Gr√°ficos interactivos
- ‚ùå Sin onboarding espec√≠fico

**Crear Anuncio (Listing)** ‚≠ê‚≠ê‚≠ê (3/5)
- ‚úÖ Bot√≥n claro
- ‚ùå No hay gu√≠a de "Anuncio efectivo"
- ‚ùå Sin sugerencias de precio basadas en mercado

**Channel Manager** ‚≠ê‚≠ê (2/5)
- ‚úÖ Bot√≥n "Sincronizar Canales"
- ‚ùå No est√° claro QU√â canales est√°n soportados
- ‚ùå Falta doc de c√≥mo conectar Airbnb, Booking
- ‚ùå Sin estado de sincronizaci√≥n visible

**FUNCIONALIDAD FALTANTE: Precios Din√°micos** ‚≠ê (1/10)
- ‚ùå **CR√çTICO**: No hay sistema de precios por temporada
- ‚ùå Sin ajuste autom√°tico seg√∫n demanda
- ‚ùå No permite descuentos por estancias largas

**Calendario** ‚≠ê‚≠ê (2/10)
- ‚ùå Sin vista mensual/semanal de disponibilidad
- ‚ùå No hay drag & drop para bloquear fechas
- ‚ùå Sin sync bidireccional con OTAs

#### Tiempo Estimado para Estar Operativo
- **Actual**: 3-4 horas (sin pricing din√°mico = competitividad limitada)
- **Objetivo**: 30 minutos

#### Recomendaciones Espec√≠ficas

**PRIORIDAD CR√çTICA:**
1. **Wizard "Publica tu Propiedad Vacacional"**
   - Paso 1: Fotos (tips de iluminaci√≥n)
   - Paso 2: Descripci√≥n (plantilla sugerida)
   - Paso 3: Amenidades (checklist visual)
   - Paso 4: Precios (sugerencia por ubicaci√≥n)
   - Paso 5: Conectar Airbnb/Booking

2. **Sistema de Pricing Din√°mico**
   ```typescript
   // Nueva entidad
   model PricingRule {
     id             String   @id @default(cuid())
     unidadId       String
     tipo           String   // temporada, dia_semana, evento
     condicion      Json     // { mes: [6,7,8], multiplicador: 1.3 }
     precioBase     Float
     precioAjustado Float
   }
   ```
   - Temporadas: alta, media, baja
   - D√≠as de semana vs fin de semana
   - Eventos locales (ferias, festivales)
   - Sugerencias basadas en competencia
   - Preview: "Ingresos estimados este mes: ‚Ç¨X,XXX"

3. **Calendario Unificado**
   - Vista mensual/semanal
   - Color-coding: reservado (azul), bloqueado (rojo), disponible (verde)
   - Drag & drop para bloqueos
   - Sync bidireccional con OTAs
   - Filtro por propiedad

**PRIORIDAD ALTA:**
4. **Channel Manager Mejorado**
   - Integraci√≥n directa con APIs:
     - Airbnb Partner API
     - Booking.com API
     - VRBO API
   - Estado de conexi√≥n visible (conectado/desconectado)
   - Logs de sincronizaci√≥n
   - Mapeo autom√°tico de campos
   - Alertas de errores de sync

5. **Mensajes Autom√°ticos**
   - Plantillas personalizables:
     - Confirmaci√≥n de reserva
     - Instrucciones check-in (24h antes)
     - Mensaje bienvenida (d√≠a de check-in)
     - Solicitud review (post check-out)
   - Variables: {nombre_huesped}, {propiedad}, {fecha_checkin}
   - Env√≠o autom√°tico por triggers

6. **Gesti√≥n de Reviews**
   - Importar reviews de todas las plataformas
   - Dashboard de reputaci√≥n: promedio, # reviews
   - Alertas de reviews negativas (<4 estrellas)
   - Plantillas de respuesta

---

### üë§ PERFIL 4: Inversor en Flipping
**Descripci√≥n**: Compra, reforma y vende propiedades

#### Evaluaci√≥n del M√≥dulo Flipping

**Dashboard Flipping** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)
- ‚úÖ Limpio y profesional
- ‚úÖ KPIs financieros: ROI, profit, valor actual
- ‚úÖ Tabs por estado
- ‚úÖ Cards con informaci√≥n clave
- ‚ùå Sin onboarding para inversores novatos

**Crear Proyecto** ‚≠ê‚≠ê‚≠ê (3/5)
- ‚úÖ Bot√≥n prominente
- ‚ùå No hay gu√≠a "Qu√© datos necesito"
- ‚ùå Sin calculadora de ROI en tiempo real

**FUNCIONALIDAD FALTANTE: Presupuesto Detallado** ‚≠ê‚≠ê (2/10)
- ‚ùå No hay desglose de costos (materiales, mano de obra, permisos)
- ‚ùå Sin comparaci√≥n con proyectos similares
- ‚ùå Falta timeline de renovaci√≥n

**Gesti√≥n de Renovaci√≥n** ‚≠ê‚≠ê (2/10)
- ‚úÖ Barra de progreso
- ‚ùå No hay gesti√≥n de tareas/hitos
- ‚ùå Sin seguimiento de contratistas
- ‚ùå No permite fotos antes/durante/despu√©s

#### Tiempo Estimado para Estar Operativo
- **Actual**: 1 hora (sin an√°lisis de deal robusto)
- **Objetivo**: 15 minutos

#### Recomendaciones Espec√≠ficas

**PRIORIDAD CR√çTICA:**
1. **Calculadora de An√°lisis de Deal**
   ```typescript
   interface DealAnalysis {
     precioCompra: number;
     costosCierre: number; // %
     costosRenovacion: {
       estructura: number;
       plomeria: number;
       electrico: number;
       acabados: number;
       total: number;
     };
     arv: number; // After Repair Value
     costosVenta: number; // comisi√≥n + transfer
     
     // Outputs
     inversionTotal: number;
     gananciaBruta: number;
     gananciaNeta: number;
     roi: number; // %
     mesesHastaBreakeven: number;
     comparacionBenchmark: string; // "Por encima del promedio"
   }
   ```
   - Wizard: "Eval√∫a tu pr√≥ximo flip"
   - Inputs progresivos con validaci√≥n
   - Output visual con gr√°ficos
   - Comparaci√≥n con benchmarks de la zona
   - Bot√≥n: "Guardar proyecto" si ROI > 15%

2. **Presupuesto por Categor√≠as**
   ```typescript
   model PresupuestoPartida {
     id           String  @id @default(cuid())
     proyectoId   String
     categoria    String  // estructura, plomeria, electrico, etc
     presupuestado Float
     real         Float
     diferencia   Float   @computed
     estado       String  // en_presupuesto, en_curso, completado
     facturas     Factura[]
   }
   ```
   - Categor√≠as predefinidas
   - Presupuesto vs Real por categor√≠a
   - Alertas si se excede 10%
   - Adjuntar facturas por categor√≠a

3. **Timeline y Milestones**
   - Gantt chart visual
   - Hitos configurables: compra, demolici√≥n, estructura, acabados, venta
   - Dependencias entre tareas
   - Notificaciones de retrasos
   - % de progreso por hito

**PRIORIDAD ALTA:**
4. **Gesti√≥n de Contratistas**
   - Base de datos de contractors
   - Rating interno (1-5 estrellas)
   - Historial de trabajos
   - Comparaci√≥n de presupuestos
   - Pagos y facturas vinculadas

5. **Galer√≠a Before/After**
   - Timeline visual del progreso
   - Comparaciones side-by-side
   - Subir fotos por fecha
   - Compartir con inversores/socios
   - Exportar a presentaci√≥n

6. **Post-Mortem Analysis**
   - Al completar proyecto: reporte autom√°tico
   - ¬øQu√© sali√≥ bien?
   - ¬øQu√© sali√≥ mal?
   - Lecciones aprendidas
   - Template para pr√≥ximo proyecto
   - KPIs finales vs estimados

---

### üë§ PERFIL 5: Desarrollador/Constructor
**Descripci√≥n**: Construcci√≥n de obra nueva o proyectos grandes

#### Evaluaci√≥n del M√≥dulo Construction

**Dashboard Construction** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)
- ‚úÖ Profesional y completo
- ‚úÖ KPIs: presupuesto, progreso, unidades
- ‚úÖ Tabs por estado
- ‚ùå No diferencia tipos (obra nueva, renovaci√≥n, ampliaci√≥n)

**Presupuesto** ‚≠ê‚≠ê‚≠ê (3/5)
- ‚úÖ Total y gastado visible
- ‚úÖ % ejecuci√≥n
- ‚úÖ Alerta si se excede
- ‚ùå Sin desglose por partidas
- ‚ùå Sin change orders tracking

**FUNCIONALIDAD FALTANTE: Permisos** ‚≠ê (1/10)
- ‚ùå **CR√çTICO**: No hay gesti√≥n de permisos de construcci√≥n
- ‚ùå Sin seguimiento de licencias
- ‚ùå No permite subir planos aprobados

**Progreso** ‚≠ê‚≠ê‚≠ê (3/5)
- ‚úÖ Barra de progreso
- ‚úÖ Fechas inicio/fin
- ‚ùå Sin Gantt chart
- ‚ùå Sin hitos (cimentaci√≥n, estructura, acabados)

#### Tiempo Estimado para Estar Operativo
- **Actual**: 2 horas (sin gesti√≥n de permisos = riesgo legal)
- **Objetivo**: 45 minutos

#### Recomendaciones Espec√≠ficas

**PRIORIDAD CR√çTICA:**
1. **Wizard "Planifica tu Proyecto de Construcci√≥n"**
   - Tipo: Obra nueva / Renovaci√≥n / Ampliaci√≥n
   - Ubicaci√≥n y superficie del terreno
   - Unidades a construir
   - Cronograma inicial (fecha inicio, duraci√≥n estimada)
   - Presupuesto por partidas
   - Equipo: arquitecto, ingeniero, contratista general

2. **Sistema de Presupuesto por Partidas**
   ```typescript
   model PartidaPresupuesto {
     id             String   @id @default(cuid())
     proyectoId     String
     codigo         String   // P01, E01, etc
     nombre         String
     padre          String?  // para jerarqu√≠a
     presupuestado  Float
     ejecutado      Float
     pendiente      Float    @computed
     porcentaje     Float    @computed
     estado         String
   }
   ```
   - Estructura jer√°rquica:
     - P - Preliminares
     - C - Cimentaci√≥n
     - E - Estructura
     - A - Alba√±iler√≠a
     - I - Instalaciones
       - I.E - El√©ctrica
       - I.P - Plomer√≠a
       - I.G - Gas
     - AC - Acabados
   - Presupuestado vs Real
   - Change orders con historial
   - Alertas de desviaci√≥n >10%

3. **M√≥dulo de Permisos y Licencias**
   ```typescript
   model PermisoLicencia {
     id              String   @id @default(cuid())
     proyectoId      String
     tipo            String   // licencia_construccion, uso_suelo, etc
     estado          String   // solicitado, en_revision, aprobado, rechazado
     fechaSolicitud  DateTime
     fechaAprobacion DateTime?
     fechaVencimiento DateTime?
     numeroPermiso   String?
     documentos      Documento[]
   }
   ```
   - Checklist de permisos por tipo de obra
   - Estados con colores (solicitado, en revisi√≥n, aprobado)
   - Recordatorios de vencimiento
   - Subir documentos PDF
   - Timeline de tr√°mites

**PRIORIDAD ALTA:**
4. **Gantt Chart Interactivo**
   - Timeline visual del proyecto
   - Fases: dise√±o, permisos, cimentaci√≥n, estructura, instalaciones, acabados, entrega
   - Dependencias entre fases
   - Ruta cr√≠tica resaltada
   - Drag & drop para ajustar fechas
   - Exportar a PDF/Excel

5. **Gesti√≥n de Certificaciones de Obra**
   - Certificaciones mensuales
   - Validaci√≥n: progreso real vs facturado
   - Aprobaci√≥n de pagos
   - Retenciones (ej: 5% hasta entrega)
   - Historial completo

6. **Dashboard de Contratistas**
   - M√∫ltiples contractors por proyecto
   - Asignaci√≥n por partida
   - Performance: puntualidad, calidad
   - Pagos pendientes
   - Documentos (seguros, certificados)

---

### üë§ PERFIL 6: Profesional (Arquitecto/Consultor)
**Descripci√≥n**: Presta servicios profesionales, factura por horas o hitos

#### Evaluaci√≥n del M√≥dulo Professional

**Dashboard Professional** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)
- ‚úÖ Orientado a servicios
- ‚úÖ KPIs: ingresos, horas, progreso
- ‚úÖ Informaci√≥n de cliente y equipo
- ‚ùå No diferencia tipos de servicios

**Gesti√≥n de Horas** ‚≠ê‚≠ê‚≠ê (3/5)
- ‚úÖ Seguimiento horas estimadas vs reales
- ‚úÖ Alerta si se exceden
- ‚ùå No hay timesheet para registro diario
- ‚ùå Sin generaci√≥n autom√°tica de facturas

**FUNCIONALIDAD FALTANTE: Entregables** ‚≠ê‚≠ê (2/10)
- ‚ùå No hay gesti√≥n de entregables
- ‚ùå Sin hitos de entrega configurables
- ‚ùå No permite versiones de documentos
- ‚ùå Sin aprobaci√≥n de cliente

#### Recomendaciones Espec√≠ficas

**PRIORIDAD CR√çTICA:**
1. **Plantillas por Tipo de Servicio**
   - Arquitectura:
     - Fases: anteproyecto, proyecto b√°sico, ejecutivo, direcci√≥n de obra
     - Horas estimadas por fase
     - Entregables por fase
   - Topograf√≠a:
     - Tipo: levantamiento, replanteo, certificaci√≥n
     - √Årea (m¬≤)
     - Entregables: planos, memorias
   - Consultor√≠a:
     - Alcance, metodolog√≠a
     - Hitos
     - Entregables

2. **Timesheet Integrado**
   ```typescript
   model RegistroHoras {
     id           String   @id @default(cuid())
     proyectoId   String
     usuarioId    String
     fecha        DateTime
     horas        Float
     descripcion  String
     facturable   Boolean
     aprobado     Boolean
     tarifaHora   Float
     total        Float    @computed
   }
   ```
   - Registro diario simple
   - Descripci√≥n de actividad
   - Facturable s√≠/no
   - Aprobaci√≥n de supervisor
   - Exportar a factura
   - An√°lisis de rentabilidad

3. **Sistema de Entregables e Hitos**
   ```typescript
   model Entregable {
     id            String   @id @default(cuid())
     proyectoId    String
     nombre        String
     descripcion   String
     fechaLimite   DateTime
     estado        String   // pendiente, en_progreso, revision, aprobado
     versiones     Version[]
     aprobadoPor   String?
     comentarios   Comentario[]
   }
   ```
   - Definir entregables al crear proyecto
   - Subir archivos por versi√≥n
   - Notificar a cliente para revisi√≥n
   - Cliente puede aprobar/rechazar con comentarios

**PRIORIDAD ALTA:**
4. **Facturaci√≥n Autom√°tica**
   - Por horas trabajadas (tarifa/hora)
   - Por hitos completados (% del total)
   - Por % de progreso
   - Integraci√≥n con sistema contable
   - Env√≠o autom√°tico al cliente
   - Recordatorios de pago

5. **Portal del Cliente**
   - Vista de progreso del proyecto
   - Descargar entregables
   - Aprobar/rechazar con comentarios
   - Chat directo con equipo
   - Ver facturaci√≥n pendiente
   - Hist√≥rico de proyectos

---

### üë§ PERFIL 7: Propietario (Delegaci√≥n)
**Descripci√≥n**: Propietario que delega gesti√≥n pero quiere visibilidad

#### Estado Actual: ‚≠ê‚≠ê (2/10)
- ‚úÖ Existe m√≥dulo `/portal-propietario`
- ‚ùå Estructura b√°sica, poco contenido
- ‚ùå No hay onboarding espec√≠fico
- ‚ùå No est√° claro qu√© pueden ver vs gestores

#### Recomendaciones Espec√≠ficas

**PRIORIDAD ALTA:**
1. **Dashboard del Propietario Simplificado**
   - Mis Propiedades (con fotos)
   - Ingresos mensuales y tendencia (gr√°fico)
   - Estado de ocupaci√≥n (% ocupado/vac√≠o)
   - Pagos pendientes (con alertas)
   - Alertas: morosidad, mantenimiento urgente

2. **Vista de Ingresos y Gastos**
   - Detalle mensual:
     - Rentas cobradas
     - Gastos deducidos (mantenimiento, comisiones)
     - Ingresos netos
   - Gr√°fico anual
   - Exportar a PDF para declaraci√≥n de impuestos

3. **Modo Solo-Lectura Configurable**
   - El gestor define permisos por propietario
   - Qu√© puede ver: documentos s√≠/no, inquilinos s√≠/no, etc.
   - Sin acceso a funciones de gesti√≥n activa
   - Dashboard adaptado a permisos

4. **Reportes Autom√°ticos Mensuales**
   - Email con PDF adjunto el d√≠a 5 de cada mes
   - Resumen del mes anterior
   - Pr√≥ximos vencimientos de contratos
   - Mantenimientos realizados
   - Gastos del mes

5. **Comunicaci√≥n Gestor-Propietario**
   - Chat dedicado
   - Notificaciones importantes
   - Solicitudes de aprobaci√≥n para gastos >‚Ç¨X

---

## üöÄ RECOMENDACIONES TRANSVERSALES

### 1. Sistema de Onboarding Inteligente y Adaptativo

**Implementaci√≥n Sugerida:**

```typescript
// app/onboarding/wizard/page.tsx
export default function OnboardingWizard() {
  const [step, setStep] = useState(1);
  const [profile, setProfile] = useState<BusinessProfile>();
  
  return (
    <div className="max-w-4xl mx-auto p-8">
      {step === 1 && (
        <ProfileSelection
          onSelect={(profile) => {
            setProfile(profile);
            setStep(2);
          }}
        />
      )}
      {step === 2 && (
        <BusinessContext
          profile={profile}
          onNext={() => setStep(3)}
        />
      )}
      {step === 3 && (
        <DataImport
          profile={profile}
          onComplete={() => {
            // Activar m√≥dulos relevantes
            // Cargar datos demo si seleccion√≥
            // Redirigir a dashboard personalizado
          }}
        />
      )}
    </div>
  );
}

// components/onboarding/ProfileSelection.tsx
const BUSINESS_PROFILES = [
  {
    id: 'residential',
    name: 'Alquiler Residencial',
    description: 'Gestiono alquileres de larga duraci√≥n',
    icon: Building2,
    modules: ['edificios', 'unidades', 'inquilinos', 'contratos', 'pagos'],
  },
  {
    id: 'coliving',
    name: 'Co-living / Habitaciones',
    description: 'Alquilo habitaciones individuales',
    icon: Users,
    modules: ['room_rental', 'gastos_comunes', 'espacios_comunes'],
  },
  {
    id: 'str',
    name: 'Alquileres Tur√≠sticos',
    description: 'Airbnb, Booking, VRBO',
    icon: Palmtree,
    modules: ['str_listings', 'str_bookings', 'str_channels', 'pricing'],
  },
  // ... resto de perfiles
];
```

**Flujo Completo:**

1. **Post-Registro: Selecci√≥n de Perfil**
   - Pantalla: "¬øQu√© tipo de negocio gestionas?"
   - Cards grandes con iconos
   - Descripci√≥n clara de cada vertical
   - Opci√≥n: "M√∫ltiples verticales" (pre-activa todos)

2. **Contexto del Negocio**
   - ¬øCu√°ntas propiedades? (0, 1-5, 6-20, 21-50, 50+)
   - ¬øTienes datos existentes?
     - S√≠, Excel/CSV ‚Üí Mostrar templates descargables
     - S√≠, uso otro software ‚Üí Ofrecer conectores
     - No, empiezo desde cero ‚Üí Activar modo demo

3. **Configuraci√≥n Guiada**
   - Wizard espec√≠fico seg√∫n perfil:
     - **Residencial**: Edificio ‚Üí Unidades ‚Üí Inquilinos ‚Üí Pagos
     - **STR**: Anuncio ‚Üí Precios ‚Üí Canales ‚Üí Publicar
     - **Flipping**: Proyecto ‚Üí Presupuesto ‚Üí Contratistas

4. **Activaci√≥n de M√≥dulos**
   - Pre-activar m√≥dulos esenciales
   - Sugerir m√≥dulos adicionales: "Tambi√©n te puede interesar..."
   - Permitir activar m√°s desde configuraci√≥n

5. **Datos Demo (Opcional)**
   - "¬øQuieres explorar con datos de ejemplo?"
   - Cargar:
     - Residencial: 3 edificios, 12 unidades, 8 inquilinos
     - STR: 2 propiedades, 10 reservas
     - Flipping: 2 proyectos en diferentes estados
   - Banner persistente: "Est√°s en modo demo üëÄ"
   - Bot√≥n: "Empezar con mis datos reales"

**Impacto Estimado:**
- Time-to-first-value: -60% (de 2h a 45min)
- Tasa de activaci√≥n D7: +40%
- Tickets de soporte: -50%
- Puntuaci√≥n Onboarding: 6.0 ‚Üí 9.5

---

### 2. Centro de Ayuda Multi-Canal

**Componentes:**

**A. Ayuda Contextual en Cada P√°gina**
```typescript
// components/ui/contextual-help-enhanced.tsx
export function ContextualHelpEnhanced({ section }: { section: string }) {
  const helpContent = helpData[section];
  
  return (
    <Popover>
      <PopoverTrigger asChild>
        <Button variant="ghost" size="icon" className="fixed bottom-20 right-4">
          <HelpCircle className="h-5 w-5" />
        </Button>
      </PopoverTrigger>
      <PopoverContent className="w-96">
        <Tabs defaultValue="video">
          <TabsList>
            <TabsTrigger value="video">Video</TabsTrigger>
            <TabsTrigger value="docs">Documentaci√≥n</TabsTrigger>
            <TabsTrigger value="faq">FAQ</TabsTrigger>
          </TabsList>
          
          <TabsContent value="video">
            <video controls className="w-full">
              <source src={helpContent.videoUrl} type="video/mp4" />
            </video>
            <p className="text-sm mt-2">{helpContent.videoTitle}</p>
          </TabsContent>
          
          <TabsContent value="docs">
            <div className="space-y-2">
              {helpContent.articles.map((article) => (
                <Link
                  key={article.id}
                  href={article.url}
                  className="block p-2 hover:bg-gray-100 rounded"
                >
                  {article.title}
                </Link>
              ))}
            </div>
          </TabsContent>
          
          <TabsContent value="faq">
            <Accordion type="single" collapsible>
              {helpContent.faqs.map((faq, i) => (
                <AccordionItem key={i} value={`faq-${i}`}>
                  <AccordionTrigger>{faq.question}</AccordionTrigger>
                  <AccordionContent>{faq.answer}</AccordionContent>
                </AccordionItem>
              ))}
            </Accordion>
          </TabsContent>
        </Tabs>
        
        <Separator className="my-4" />
        
        <Button variant="outline" className="w-full">
          <MessageCircle className="mr-2 h-4 w-4" />
          Contactar Soporte
        </Button>
      </PopoverContent>
    </Popover>
  );
}
```

**B. Universidad INMOVA**
- Secci√≥n dedicada: `/academia`
- Cursos por vertical:
  - "Gesti√≥n de Alquileres 101" (6 lecciones, 30 min)
  - "C√≥mo escalar tu negocio STR" (8 lecciones, 45 min)
  - "Flipping para principiantes" (10 lecciones, 1h)
- Formato: video + transcript + quiz
- Certificaci√≥n al completar
- Badge en perfil: "Certificado en X"

**C. Chatbot Inteligente con IA**
```typescript
// components/ai-chatbot.tsx
import { useChat } from 'ai/react';

export function AIChatbot() {
  const { messages, input, handleInputChange, handleSubmit } = useChat({
    api: '/api/chatbot',
    initialMessages: [
      {
        role: 'assistant',
        content: '¬°Hola! Soy el asistente de INMOVA. ¬øEn qu√© puedo ayudarte?',
      },
    ],
  });
  
  return (
    <Popover>
      <PopoverTrigger asChild>
        <Button className="fixed bottom-4 right-4 rounded-full h-14 w-14">
          <MessageCircle className="h-6 w-6" />
        </Button>
      </PopoverTrigger>
      <PopoverContent className="w-96 h-[500px] flex flex-col">
        <div className="flex-1 overflow-y-auto space-y-4">
          {messages.map((m) => (
            <div
              key={m.id}
              className={cn(
                'p-3 rounded-lg',
                m.role === 'user'
                  ? 'bg-primary text-white ml-auto max-w-[80%]'
                  : 'bg-muted max-w-[80%]'
              )}
            >
              {m.content}
            </div>
          ))}
        </div>
        <form onSubmit={handleSubmit} className="flex gap-2 mt-4">
          <Input
            value={input}
            onChange={handleInputChange}
            placeholder="Preg√∫ntame algo..."
          />
          <Button type="submit">
            <Send className="h-4 w-4" />
          </Button>
        </form>
      </PopoverContent>
    </Popover>
  );
}

// app/api/chatbot/route.ts
import { OpenAIStream, StreamingTextResponse } from 'ai';
import { Configuration, OpenAIApi } from 'openai-edge';

const config = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});

const openai = new OpenAIApi(config);

export async function POST(req: Request) {
  const { messages } = await req.json();
  
  const response = await openai.createChatCompletion({
    model: 'gpt-4',
    stream: true,
    messages: [
      {
        role: 'system',
        content: `Eres un asistente experto en la plataforma INMOVA. 
        Ayudas a los usuarios a navegar y usar las funcionalidades.
        Respondes en espa√±ol de forma clara y concisa.
        Si el usuario necesita soporte t√©cnico, sugi√©rele contactar al equipo.`,
      },
      ...messages,
    ],
    temperature: 0.7,
    max_tokens: 500,
  });
  
  const stream = OpenAIStream(response);
  return new StreamingTextResponse(stream);
}
```

**D. Sugerencias Proactivas**
```typescript
// components/ai-suggestions.tsx
export function AISuggestions() {
  const { data: suggestions } = useSuggestions();
  
  if (!suggestions || suggestions.length === 0) return null;
  
  return (
    <Card className="mt-4 border-blue-200 bg-blue-50">
      <CardHeader>
        <CardTitle className="text-sm flex items-center gap-2">
          <Lightbulb className="h-4 w-4 text-blue-600" />
          Sugerencias Inteligentes
        </CardTitle>
      </CardHeader>
      <CardContent>
        <ul className="space-y-2">
          {suggestions.map((s) => (
            <li key={s.id} className="flex items-start gap-2">
              <ChevronRight className="h-4 w-4 text-blue-600 mt-0.5" />
              <div>
                <p className="text-sm font-medium">{s.title}</p>
                <p className="text-xs text-gray-600">{s.description}</p>
                {s.action && (
                  <Button
                    variant="link"
                    size="sm"
                    className="p-0 h-auto mt-1"
                    onClick={s.action.onClick}
                  >
                    {s.action.label} ‚Üí
                  </Button>
                )}
              </div>
            </li>
          ))}
        </ul>
      </CardContent>
    </Card>
  );
}

// Ejemplos de sugerencias:
// - "Tienes 3 contratos que vencen este mes. ¬øQuieres revisarlos?"
// - "Tu tasa de ocupaci√≥n baj√≥ 10%. ¬øAnalizamos qu√© pas√≥?"
// - "Detect√© que puedes aumentar tus precios STR en 15% seg√∫n el mercado"
// - "Hay 2 pagos con m√°s de 30 d√≠as de retraso. ¬øEnviamos recordatorio?"
```

**Impacto Estimado:**
- Tickets de soporte: -60%
- Time-to-resolution: -40%
- Satisfacci√≥n del usuario: +35%
- Puntuaci√≥n Ayuda Contextual: 5.5 ‚Üí 9.0

---

### 3. Dashboards Personalizables

**Implementaci√≥n:**

```typescript
// app/dashboard/customizable/page.tsx
import { ResponsiveGridLayout } from 'react-grid-layout';
import 'react-grid-layout/css/styles.css';
import 'react-resizable/css/styles.css';

const AVAILABLE_WIDGETS = [
  { id: 'kpi-ingresos', name: 'Ingresos Mensuales', component: KPIIngresos },
  { id: 'kpi-ocupacion', name: 'Tasa de Ocupaci√≥n', component: KPIOcupacion },
  { id: 'chart-ingresos', name: 'Gr√°fico Ingresos', component: ChartIngresos },
  { id: 'pending-payments', name: 'Pagos Pendientes', component: PendingPayments },
  { id: 'maintenance-alerts', name: 'Alertas Mantenimiento', component: MaintenanceAlerts },
  // ... 20+ widgets
];

export default function CustomizableDashboard() {
  const [layout, setLayout] = useState(loadLayoutFromDB());
  const [editMode, setEditMode] = useState(false);
  
  return (
    <div>
      <div className="flex justify-between items-center mb-6">
        <h1>Mi Dashboard</h1>
        <div className="flex gap-2">
          <Button
            variant={editMode ? 'default' : 'outline'}
            onClick={() => setEditMode(!editMode)}
          >
            {editMode ? 'Guardar' : 'Personalizar'}
          </Button>
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button variant="outline">
                <LayoutGrid className="mr-2 h-4 w-4" />
                Plantillas
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent>
              <DropdownMenuItem onClick={() => applyLayout('ejecutivo')}>
                Vista Ejecutiva
              </DropdownMenuItem>
              <DropdownMenuItem onClick={() => applyLayout('operativo')}>
                Vista Operativa
              </DropdownMenuItem>
              <DropdownMenuItem onClick={() => applyLayout('analitica')}>
                Vista Anal√≠tica
              </DropdownMenuItem>
            </DropdownMenuContent>
          </DropdownMenu>
        </div>
      </div>
      
      {editMode && (
        <Card className="mb-4 border-blue-200 bg-blue-50">
          <CardContent className="pt-4">
            <p className="text-sm mb-2">A√±adir widgets:</p>
            <div className="flex flex-wrap gap-2">
              {AVAILABLE_WIDGETS.map((widget) => (
                <Button
                  key={widget.id}
                  variant="outline"
                  size="sm"
                  onClick={() => addWidget(widget)}
                >
                  <Plus className="mr-2 h-4 w-4" />
                  {widget.name}
                </Button>
              ))}
            </div>
          </CardContent>
        </Card>
      )}
      
      <ResponsiveGridLayout
        layout={layout}
        onLayoutChange={(newLayout) => {
          setLayout(newLayout);
          saveLayoutToDB(newLayout);
        }}
        isDraggable={editMode}
        isResizable={editMode}
        cols={{ lg: 12, md: 10, sm: 6, xs: 4, xxs: 2 }}
        rowHeight={60}
      >
        {layout.map((item) => {
          const Widget = AVAILABLE_WIDGETS.find((w) => w.id === item.i)?.component;
          if (!Widget) return null;
          
          return (
            <div key={item.i} className="relative">
              {editMode && (
                <Button
                  variant="destructive"
                  size="icon"
                  className="absolute -top-2 -right-2 h-6 w-6 z-10"
                  onClick={() => removeWidget(item.i)}
                >
                  <X className="h-3 w-3" />
                </Button>
              )}
              <Widget />
            </div>
          );
        })}
      </ResponsiveGridLayout>
    </div>
  );
}
```

**Layouts Pre-configurados:**

1. **Vista Ejecutiva (CFO/Director)**
   - KPIs financieros grandes
   - Gr√°ficos de tendencias
   - Proyecciones
   - ROI por propiedad

2. **Vista Operativa (Gestor)**
   - Tareas del d√≠a
   - Alertas urgentes
   - Pr√≥ximos vencimientos
   - Mantenimientos pendientes

3. **Vista Anal√≠tica (Data Analyst)**
   - M√∫ltiples gr√°ficos
   - Tablas detalladas
   - Comparativas
   - Benchmarks

4. **Vista STR**
   - Ocupaci√≥n por propiedad
   - Pr√≥ximos check-ins/outs
   - Revenue por canal
   - Reviews pendientes

**Impacto Estimado:**
- Satisfacci√≥n: +30%
- Tiempo en dashboard: +50% (m√°s engagement)
- Descubrimiento de features: +40%
- Puntuaci√≥n Navegaci√≥n: 7.5 ‚Üí 9.5

---

### 4. Asistente IA Proactivo ("INMOVA Copilot")

**Funcionalidades:**

```typescript
// lib/ai-copilot.ts
export class INMOVACopilot {
  async analyzeDashboard(userId: string) {
    const data = await getDashboardData(userId);
    const insights = [];
    
    // Detectar contratos pr√≥ximos a vencer
    if (data.contractsExpiringSoon > 0) {
      insights.push({
        type: 'warning',
        priority: 'high',
        message: `Tienes ${data.contractsExpiringSoon} contratos que vencen en los pr√≥ximos 30 d√≠as.`,
        action: {
          label: 'Revisar contratos',
          onClick: () => router.push('/contratos?filter=expiring'),
        },
      });
    }
    
    // Detectar ca√≠da en ocupaci√≥n
    if (data.occupancyTrend < -5) {
      insights.push({
        type: 'warning',
        priority: 'high',
        message: `Tu tasa de ocupaci√≥n baj√≥ ${Math.abs(data.occupancyTrend)}% este mes.`,
        action: {
          label: 'Analizar causas',
          onClick: () => openAnalysisModal('occupancy'),
        },
      });
    }
    
    // Sugerir aumento de precios (STR)
    if (data.vertical === 'str') {
      const marketData = await getMarketPrices(data.location);
      if (data.avgPrice < marketData.avgPrice * 0.85) {
        insights.push({
          type: 'opportunity',
          priority: 'medium',
          message: `Tus precios est√°n 15% por debajo del mercado. Podr√≠as aumentar ingresos en ~‚Ç¨${calculatePotentialIncrease(data)}/ mes.`,
          action: {
            label: 'Ajustar precios',
            onClick: () => router.push('/str/pricing'),
          },
        });
      }
    }
    
    // Recordatorios inteligentes
    if (data.paymentsOverdue > 0) {
      insights.push({
        type: 'action',
        priority: 'high',
        message: `Hay ${data.paymentsOverdue} pagos con m√°s de 30 d√≠as de retraso.`,
        action: {
          label: 'Enviar recordatorios',
          onClick: async () => {
            await sendPaymentReminders(data.overduePayments);
            toast.success('Recordatorios enviados');
          },
        },
      });
    }
    
    return insights;
  }
  
  async suggestNextAction(userId: string, context: string) {
    // Basado en el contexto actual, sugerir siguiente acci√≥n l√≥gica
    // Ej: "Acabas de crear un edificio. ¬øQuieres a√±adir unidades?"
  }
}

// components/inmova-copilot.tsx
export function INMOVACopilot() {
  const [insights, setInsights] = useState([]);
  const [isOpen, setIsOpen] = useState(false);
  
  useEffect(() => {
    const loadInsights = async () => {
      const copilot = new INMOVACopilot();
      const data = await copilot.analyzeDashboard(userId);
      setInsights(data);
      
      // Abrir autom√°ticamente si hay insights de prioridad alta
      if (data.some((i) => i.priority === 'high')) {
        setIsOpen(true);
      }
    };
    
    loadInsights();
    
    // Refresh cada 5 minutos
    const interval = setInterval(loadInsights, 5 * 60 * 1000);
    return () => clearInterval(interval);
  }, [userId]);
  
  return (
    <Popover open={isOpen} onOpenChange={setIsOpen}>
      <PopoverTrigger asChild>
        <Button
          className="fixed bottom-20 right-4 rounded-full"
          size="lg"
        >
          <Sparkles className="h-5 w-5 mr-2" />
          Copilot
          {insights.length > 0 && (
            <Badge variant="destructive" className="ml-2">
              {insights.length}
            </Badge>
          )}
        </Button>
      </PopoverTrigger>
      <PopoverContent className="w-96" side="left">
        <div className="space-y-4">
          <div className="flex items-center gap-2">
            <Sparkles className="h-5 w-5" />
            <h3 className="font-semibold">INMOVA Copilot</h3>
          </div>
          
          {insights.length === 0 ? (
            <p className="text-sm text-muted-foreground">
              Todo est√° en orden. Te notificar√© si detecto algo importante.
            </p>
          ) : (
            <div className="space-y-3">
              {insights.map((insight, i) => (
                <Card
                  key={i}
                  className={cn(
                    'p-3',
                    insight.type === 'warning' && 'border-orange-200 bg-orange-50',
                    insight.type === 'opportunity' && 'border-green-200 bg-green-50'
                  )}
                >
                  <p className="text-sm mb-2">{insight.message}</p>
                  {insight.action && (
                    <Button
                      size="sm"
                      variant="outline"
                      onClick={insight.action.onClick}
                    >
                      {insight.action.label}
                    </Button>
                  )}
                </Card>
              ))}
            </div>
          )}
        </div>
      </PopoverContent>
    </Popover>
  );
}
```

**Impacto Estimado:**
- Retenci√≥n de usuarios: +25%
- Valor percibido: +40%
- Descubrimiento de issues: +70%
- Puntuaci√≥n Autogesti√≥n: 7.0 ‚Üí 9.0

---

### 5. Importaci√≥n y Migraci√≥n de Datos

**Componentes:**

```typescript
// app/importar/page.tsx
export default function ImportarPage() {
  const [step, setStep] = useState(1);
  const [dataType, setDataType] = useState<'edificios' | 'inquilinos' | 'contratos'>();
  const [file, setFile] = useState<File>();
  const [errors, setErrors] = useState([]);
  
  return (
    <div className="max-w-4xl mx-auto p-8">
      <PageHeader
        title="Importar Datos"
        description="Trae tus datos existentes a INMOVA"
      />
      
      {step === 1 && (
        <div className="grid gap-4 md:grid-cols-3">
          <Card
            className="cursor-pointer hover:border-primary"
            onClick={() => {
              setDataType('edificios');
              setStep(2);
            }}
          >
            <CardHeader>
              <Building2 className="h-12 w-12 mb-2" />
              <CardTitle>Edificios</CardTitle>
            </CardHeader>
            <CardContent>
              <p className="text-sm text-muted-foreground">
                Importa tus propiedades desde Excel o CSV
              </p>
            </CardContent>
          </Card>
          
          {/* Similar cards para inquilinos, contratos, etc */}
        </div>
      )}
      
      {step === 2 && (
        <Card>
          <CardHeader>
            <CardTitle>Descarga la Plantilla</CardTitle>
            <CardDescription>
              Usa nuestra plantilla para asegurar que tus datos se importen correctamente
            </CardDescription>
          </CardHeader>
          <CardContent>
            <Button onClick={() => downloadTemplate(dataType)}>
              <Download className="mr-2 h-4 w-4" />
              Descargar Plantilla de {dataType}
            </Button>
            
            <Alert className="mt-4">
              <Info className="h-4 w-4" />
              <AlertTitle>Instrucciones</AlertTitle>
              <AlertDescription>
                <ol className="list-decimal ml-4 space-y-1 text-sm">
                  <li>Descarga la plantilla</li>
                  <li>Completa tus datos (no modifiques las columnas)</li>
                  <li>Guarda como Excel (.xlsx) o CSV</li>
                  <li>Sube el archivo aqu√≠</li>
                </ol>
              </AlertDescription>
            </Alert>
            
            <div className="mt-6">
              <Label>Sube tu archivo</Label>
              <Input
                type="file"
                accept=".xlsx,.xls,.csv"
                onChange={(e) => {
                  setFile(e.target.files?.[0]);
                  setStep(3);
                }}
                className="mt-2"
              />
            </div>
          </CardContent>
        </Card>
      )}
      
      {step === 3 && file && (
        <Card>
          <CardHeader>
            <CardTitle>Validaci√≥n</CardTitle>
            <CardDescription>
              Verificando tus datos antes de importar
            </CardDescription>
          </CardHeader>
          <CardContent>
            <ValidacionImportacion
              file={file}
              dataType={dataType}
              onValidated={(results) => {
                setErrors(results.errors);
                setStep(4);
              }}
            />
          </CardContent>
        </Card>
      )}
      
      {step === 4 && (
        <Card>
          <CardHeader>
            <CardTitle>
              {errors.length === 0 ? 'Listo para Importar' : 'Errores Encontrados'}
            </CardTitle>
          </CardHeader>
          <CardContent>
            {errors.length === 0 ? (
              <div>
                <CheckCircle className="h-12 w-12 text-green-600 mb-4" />
                <p className="mb-4">Todos los datos son v√°lidos. ¬øProceder con la importaci√≥n?</p>
                <Button onClick={handleImport}>
                  Importar {dataType}
                </Button>
              </div>
            ) : (
              <div>
                <Alert variant="destructive">
                  <AlertCircle className="h-4 w-4" />
                  <AlertTitle>Encontramos {errors.length} errores</AlertTitle>
                  <AlertDescription>
                    Por favor corrige estos errores y vuelve a subir el archivo
                  </AlertDescription>
                </Alert>
                
                <div className="mt-4 space-y-2">
                  {errors.map((error, i) => (
                    <div key={i} className="text-sm p-2 bg-red-50 rounded">
                      <strong>Fila {error.row}:</strong> {error.message}
                    </div>
                  ))}
                </div>
                
                <Button
                  variant="outline"
                  onClick={() => setStep(2)}
                  className="mt-4"
                >
                  Subir Archivo Corregido
                </Button>
              </div>
            )}
          </CardContent>
        </Card>
      )}
    </div>
  );
}

// lib/import-service.ts
export async function validateImportFile(
  file: File,
  type: 'edificios' | 'inquilinos' | 'contratos'
) {
  const workbook = await parseExcel(file);
  const rows = workbook.getWorksheet(1).getRows();
  
  const errors = [];
  const warnings = [];
  
  rows.forEach((row, index) => {
    // Validar campos requeridos
    if (type === 'edificios') {
      if (!row.getCell('A').value) {
        errors.push({
          row: index + 1,
          field: 'nombre',
          message: 'El nombre del edificio es requerido',
        });
      }
      
      // Validar formato de direcci√≥n
      if (!row.getCell('B').value || !isValidAddress(row.getCell('B').value)) {
        errors.push({
          row: index + 1,
          field: 'direccion',
          message: 'La direcci√≥n no es v√°lida',
        });
      }
      
      // Validar n√∫mero de unidades
      const unidades = row.getCell('C').value;
      if (!unidades || unidades <= 0 || unidades > 1000) {
        errors.push({
          row: index + 1,
          field: 'numeroUnidades',
          message: 'N√∫mero de unidades debe estar entre 1 y 1000',
        });
      }
    }
    
    // Similar validaciones para otros tipos
  });
  
  return {
    valid: errors.length === 0,
    errors,
    warnings,
    rowCount: rows.length,
  };
}

export async function importData(
  file: File,
  type: string,
  companyId: string
) {
  const workbook = await parseExcel(file);
  const rows = workbook.getWorksheet(1).getRows();
  
  const results = {
    success: 0,
    errors: 0,
    items: [],
  };
  
  for (const row of rows) {
    try {
      if (type === 'edificios') {
        const edificio = await prisma.building.create({
          data: {
            nombre: row.getCell('A').value,
            direccion: row.getCell('B').value,
            numeroUnidades: row.getCell('C').value,
            companyId,
          },
        });
        results.items.push(edificio);
        results.success++;
      }
    } catch (error) {
      results.errors++;
    }
  }
  
  return results;
}
```

**Conectores con Software Com√∫n:**

```typescript
// lib/connectors/
// - quickbooks-connector.ts
// - yardi-connector.ts
// - appfolio-connector.ts
// - airbnb-connector.ts

export class AirbnbConnector {
  async connect(credentials: { clientId: string; clientSecret: string }) {
    // OAuth flow con Airbnb
  }
  
  async importListings() {
    // Importar anuncios desde Airbnb
  }
  
  async importBookings() {
    // Importar reservas
  }
}
```

**Impacto Estimado:**
- Time-to-onboard usuarios con datos existentes: -80% (de 5h a 1h)
- Tasa de conversi√≥n trial‚Üípaid: +50%
- Abandono durante onboarding: -60%
- Puntuaci√≥n Intuitividad: 6.5 ‚Üí 9.0

---

## üìä PLAN DE IMPLEMENTACI√ìN PRIORIZADO

### üî¥ FASE 1: Quick Wins (2-4 semanas)
**Objetivo**: Mejoras inmediatas de alta visibilidad

| # | Mejora | Esfuerzo | Impacto | Puntos |
|---|--------|----------|---------|--------|
| 1 | Pregunta de perfil en registro | Bajo | Alto | +0.8 |
| 2 | Checklist de setup en dashboard | Bajo | Medio | +0.5 |
| 3 | Tooltips en formularios cr√≠ticos | Bajo | Medio | +0.4 |
| 4 | Datos demo por vertical | Medio | Alto | +1.0 |
| 5 | 5 video-tutoriales cortos | Medio | Alto | +0.7 |
| 6 | Creaci√≥n masiva de unidades (UI b√°sico) | Medio | Alto | +0.9 |
| 7 | Templates de contratos por regi√≥n | Bajo | Medio | +0.5 |

**Total Mejora Fase 1: +4.8 puntos**  
**Puntuaci√≥n proyectada: 6.4 ‚Üí 11.2 (pero max 10)**  
**Puntuaci√≥n real esperada: 8.5/10**

---

### üü° FASE 2: Onboarding Adaptativo (4-6 semanas)
**Objetivo**: Experiencia personalizada por vertical

| # | Mejora | Esfuerzo | Impacto | Puntos |
|---|--------|----------|---------|--------|
| 8 | Wizard de configuraci√≥n por vertical | Alto | Muy Alto | +1.5 |
| 9 | Pre-activaci√≥n inteligente de m√≥dulos | Medio | Alto | +0.6 |
| 10 | Asistente de importaci√≥n Excel/CSV | Alto | Alto | +1.0 |
| 11 | Email drip campaign post-registro | Bajo | Medio | +0.3 |
| 12 | Dashboard de progreso animado | Medio | Medio | +0.4 |

**Total Mejora Fase 2: +3.8 puntos**  
**Puntuaci√≥n proyectada: 8.5 ‚Üí 10/10** ‚úÖ

---

### üü¢ FASE 3: Funcionalidades Avanzadas (8-12 semanas)
**Objetivo**: Completar funcionalidades faltantes por vertical

| # | Mejora | Esfuerzo | Impacto | Vertical |
|---|--------|----------|---------|----------|
| 13 | Sistema de prorrateo (Co-living) | Alto | Cr√≠tico | Co-living |
| 14 | Pricing din√°mico (STR) | Alto | Cr√≠tico | STR |
| 15 | Calculadora de ROI (Flipping) | Medio | Alto | Flipping |
| 16 | Presupuesto por partidas (Construction) | Alto | Alto | Construction |
| 17 | Timesheet integrado (Professional) | Medio | Alto | Professional |
| 18 | Sistema de entregables (Professional) | Medio | Alto | Professional |
| 19 | M√≥dulo de permisos (Construction) | Alto | Cr√≠tico | Construction |
| 20 | Channel Manager mejorado (STR) | Muy Alto | Alto | STR |
| 21 | Calendario unificado (STR) | Alto | Alto | STR |
| 22 | Portal del propietario completo | Medio | Medio | Todos |

---

### üîµ FASE 4: Inteligencia y Automatizaci√≥n (12+ semanas)
**Objetivo**: Features avanzados con IA

| # | Mejora | Esfuerzo | Impacto |
|---|--------|----------|---------|
| 23 | Chatbot contextual con IA | Muy Alto | Alto |
| 24 | INMOVA Copilot (asistente proactivo) | Muy Alto | Muy Alto |
| 25 | Recomendaciones personalizadas | Alto | Alto |
| 26 | Dashboards personalizables | Alto | Alto |
| 27 | Conectores con plataformas externas | Muy Alto | Alto |
| 28 | Universidad INMOVA (cursos) | Alto | Medio |
| 29 | Sistema de notificaciones inteligente | Medio | Medio |
| 30 | An√°lisis predictivo (ocupaci√≥n, precios) | Muy Alto | Alto |

---

## üéØ ROADMAP VISUAL

```
MES 1-2: FASE 1 - Quick Wins
‚îú‚îÄ‚îÄ Semana 1: Perfil de usuario, checklist setup, tooltips
‚îú‚îÄ‚îÄ Semana 2: Datos demo, templates contratos
‚îî‚îÄ‚îÄ Semana 3-4: Videos tutoriales, creaci√≥n masiva unidades

MES 3-4: FASE 2 - Onboarding Adaptativo
‚îú‚îÄ‚îÄ Semana 5-6: Wizard de configuraci√≥n
‚îú‚îÄ‚îÄ Semana 7: Pre-activaci√≥n m√≥dulos, importaci√≥n datos
‚îî‚îÄ‚îÄ Semana 8: Email campaigns, dashboard progreso

MES 5-8: FASE 3 - Funcionalidades Avanzadas
‚îú‚îÄ‚îÄ Mes 5: Co-living (prorrateo), STR (pricing)
‚îú‚îÄ‚îÄ Mes 6: Flipping (ROI), Construction (partidas)
‚îú‚îÄ‚îÄ Mes 7: Professional (timesheet), Construction (permisos)
‚îî‚îÄ‚îÄ Mes 8: STR (channel manager), Portal propietario

MES 9+: FASE 4 - Inteligencia y Automatizaci√≥n
‚îú‚îÄ‚îÄ Mes 9-10: Chatbot IA, Copilot
‚îú‚îÄ‚îÄ Mes 11-12: Dashboards personalizables, Universidad INMOVA
‚îî‚îÄ‚îÄ Ongoing: Conectores, an√°lisis predictivo
```

---

## üìà M√âTRICAS DE √âXITO

### KPIs para Medir Intuitividad

| M√©trica | Actual | Meta Fase 1 | Meta Fase 2 | Meta Final |
|---------|--------|-------------|-------------|------------|
| **Tasa de Activaci√≥n D7** | ~50% | 65% | 75% | 85% |
| **Time-to-First-Value** | 2-3h | 1.5h | 45min | 30min |
| **Tasa de Retenci√≥n D30** | ~35% | 45% | 55% | 65% |
| **Feature Discovery (3+ m√≥dulos)** | ~40% | 55% | 70% | 85% |
| **Tickets de Soporte/Usuario** | ~4 | 3 | 2 | <1.5 |
| **NPS** | N/A | 30 | 45 | 60+ |
| **Puntuaci√≥n Intuitividad** | 6.4 | 8.5 | 9.5 | 10 |

### Herramientas de Medici√≥n

**Analytics:**
- Hotjar / FullStory: Grabaciones de sesiones, heatmaps
- Mixpanel / Amplitude: Funnels de activaci√≥n
- Google Analytics 4: Tr√°fico y comportamiento
- PostHog: Product analytics open source

**Feedback:**
- NPS surveys integradas (post-onboarding, mensual)
- In-app feedback widget
- Entrevistas a usuarios (5-10/mes)
- User testing sessions (2/mes)

**A/B Testing:**
- Optimizely / VWO: Probar variantes de onboarding
- Comparar wizard vs no-wizard
- Testear diferentes CTAs y copys

---

## üí∞ ESTIMACI√ìN DE ESFUERZO

### Por Fase

| Fase | Semanas | Desarrolladores | Story Points | Coste Estimado |
|------|---------|-----------------|--------------|----------------|
| Fase 1 | 2-4 | 2 FT | 50 | ‚Ç¨8,000 |
| Fase 2 | 4-6 | 2 FT | 80 | ‚Ç¨12,000 |
| Fase 3 | 8-12 | 3 FT | 200 | ‚Ç¨35,000 |
| Fase 4 | 12+ | 3 FT | 250 | ‚Ç¨45,000 |
| **TOTAL** | **26-34** | **2-3 FT** | **580** | **‚Ç¨100,000** |

### ROI Estimado

**Asumiendo:**
- 1000 usuarios actuales
- Churn mensual actual: 8%
- Churn objetivo post-mejoras: 4%
- LTV promedio: ‚Ç¨500/usuario

**Ahorro por reducci√≥n de churn:**
- Usuarios retenidos extra/mes: 40
- Valor anual: 40 √ó 12 √ó ‚Ç¨500 = ‚Ç¨240,000

**Nuevos usuarios por mejor onboarding:**
- Conversi√≥n trial‚Üípaid actual: 25%
- Conversi√≥n objetivo: 40%
- Con 500 trials/mes: 75 conversiones extra/mes
- Valor anual: 75 √ó 12 √ó ‚Ç¨500 = ‚Ç¨450,000

**ROI Total A√±o 1:**
- Inversi√≥n: ‚Ç¨100,000
- Beneficio: ‚Ç¨690,000
- **ROI: 590%** üöÄ

---

## ‚úÖ CONCLUSIONES Y RECOMENDACIONES FINALES

### Fortalezas de INMOVA

1. **Arquitectura Multi-Vertical Robusta**: Soporta 7 modelos de negocio desde una plataforma √∫nica
2. **88 M√≥dulos Profesionales**: Funcionalidades completas para cada vertical
3. **UI Moderna y Consistente**: Basada en Shadcn/UI con dise√±o profesional
4. **Funcionalidades Core S√≥lidas**: Gesti√≥n de propiedades, inquilinos, contratos bien implementada

### Oportunidades Cr√≠ticas

1. **Onboarding es el Mayor Cuello de Botella**:
   - Usuarios se sienten perdidos en las primeras 48h
   - No hay gu√≠a adaptada a su modelo de negocio
   - Time-to-first-value demasiado largo (2-3h)
   
   **Recomendaci√≥n**: Priorizar FASE 1 y 2 (onboarding inteligente) antes que nuevas funcionalidades

2. **Funcionalidades Cr√≠ticas Faltantes por Vertical**:
   - Co-living: Prorrateo de gastos comunes
   - STR: Pricing din√°mico y calendario unificado
   - Construction: Gesti√≥n de permisos
   - Professional: Timesheet y entregables
   
   **Recomendaci√≥n**: Implementar FASE 3 para completar el producto

3. **Ayuda Contextual Insuficiente**:
   - Usuarios contactan soporte para preguntas b√°sicas
   - No hay videos tutoriales embebidos
   - Sin chatbot de ayuda
   
   **Recomendaci√≥n**: Invertir en Centro de Ayuda Multi-Canal (FASE 2)

### Estrategia Recomendada

**üéØ PRIORIDAD #1: Onboarding Adaptativo (FASE 1 + 2)**
- **Por qu√©**: Impacto inmediato en activaci√≥n y retenci√≥n
- **Cu√°ndo**: Pr√≥ximos 2-3 meses
- **ROI**: 300-400% solo con reducci√≥n de churn

**üéØ PRIORIDAD #2: Completar Funcionalidades por Vertical (FASE 3)**
- **Por qu√©**: Sin estas, algunos verticales no pueden usar la plataforma completamente
- **Cu√°ndo**: Meses 4-8
- **ROI**: Habilita expansi√≥n a mercados espec√≠ficos (co-living, STR premium)

**üéØ PRIORIDAD #3: Inteligencia Artificial (FASE 4)**
- **Por qu√©**: Diferenciador competitivo, aumenta valor percibido
- **Cu√°ndo**: Meses 9+
- **ROI**: Posicionamiento premium, mayor pricing power

### Resultado Esperado

**Tras Fase 1 (2-4 semanas):**
- Puntuaci√≥n Intuitividad: **6.4 ‚Üí 8.5/10** ‚úÖ
- Time-to-first-value: **2h ‚Üí 1.5h**
- Tickets de soporte: **-30%**

**Tras Fase 2 (4-6 semanas adicionales):**
- Puntuaci√≥n Intuitividad: **8.5 ‚Üí 9.5/10** ‚úÖ
- Time-to-first-value: **1.5h ‚Üí 45min**
- Tasa de activaci√≥n D7: **50% ‚Üí 75%**
- Tickets de soporte: **-50%**

**Tras Fase 3 (8-12 semanas adicionales):**
- Puntuaci√≥n Intuitividad: **9.5 ‚Üí 10/10** üèÜ
- Todas las verticales completamente funcionales
- Reducci√≥n de churn: **8% ‚Üí 4%**
- NPS: **30 ‚Üí 60+**

### Mensaje Final

**INMOVA tiene una base t√©cnica excelente, pero la experiencia de usuario inicial es el principal punto de fricci√≥n.**

Implementar el onboarding inteligente y adaptativo transformar√° la percepci√≥n de la plataforma de:

‚ùå "Potente pero compleja" ‚Üí ‚úÖ "Potente e intuitiva"

Esto desbloquear√°:
- ‚úÖ Mayor adopci√≥n de usuarios
- ‚úÖ Reducci√≥n de churn
- ‚úÖ Menor carga de soporte
- ‚úÖ Mejor boca-a-boca y NPS
- ‚úÖ Posicionamiento premium en el mercado

**La inversi√≥n de ‚Ç¨100K en mejoras de UX puede generar ‚Ç¨690K+ en beneficios anuales (ROI 590%).**

---

**Preparado por**: DeepAgent - Especialista en UX/UI  
**Para**: Proyecto INMOVA  
**Fecha**: 3 de Diciembre, 2025  
**Versi√≥n**: 1.0 - Evaluaci√≥n Completa
